/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
 #include<limits.h>
char** summaryRanges(int* nums, int numsSize, int* returnSize) {
    if (numsSize == 0) {
        *returnSize = 0;
        return NULL;
    }

    char **ranges = (char **)malloc(numsSize * sizeof(char *));  //worst case max size
    int count = 0;

    int start = nums[0]; 
    for (int i = 1; i <= numsSize; ++i) {
          if (i == numsSize || nums[i] != nums[i - 1] + 1) {
            int end = nums[i - 1];
            char buf[32];

            if (start == end)
                sprintf(buf, "%d", start);
            else
                sprintf(buf, "%d->%d", start, end);

            ranges[count] = (char *)malloc(strlen(buf) + 1);
            strcpy(ranges[count], buf);
            ++count;

            if (i < numsSize) {
                start = nums[i];
            }
        }
    }
    *returnSize = count;
    return ranges;        
}